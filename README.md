
# inlay::random

ä¸€ä¸ªé«˜æ€§èƒ½ã€çº¿ç¨‹å®‰å…¨çš„ C++ éšæœºæ•°å·¥å…·åº“ï¼Œæ”¯æŒçº¿ç¨‹å±€éƒ¨éšæœºå¼•æ“ã€é€šç”¨åŒºé—´é‡‡æ ·å‡½æ•° `range`ï¼Œä»¥åŠä¸‰ç§ä¸åŒç­–ç•¥çš„æƒé‡é‡‡æ ·å™¨ï¼ˆAliasã€Expansionã€Binaryï¼‰ã€‚

## ç‰¹æ€§ Features

- ğŸ’¡ çº¿ç¨‹å±€éƒ¨éšæœºå¼•æ“å°è£…ï¼š`thread_rng()`
- ğŸ² é€šç”¨åŒºé—´é‡‡æ ·å‡½æ•°ï¼š`range(min, max)`
- ğŸ“¦ ä¸‰ç§æƒé‡é‡‡æ ·å™¨ï¼š
  - `weight_faster_alias`: O(1) é‡‡æ ·ï¼Œé€‚åˆé¢‘ç¹è°ƒç”¨
  - `weight_faster_expansion`: æè‡´å¿«é€Ÿé‡‡æ ·ï¼Œé€‚åˆå°æƒé‡é›†åˆ
  - `weight_faster_binary`: é€‚åˆé€šç”¨åœºæ™¯ï¼Œæ”¯æŒæ•´æ•°/æµ®ç‚¹æƒé‡

## ç¤ºä¾‹ Example

```cpp
#include "random.hpp"
#include <iostream>

int main() {
  std::vector<int> values{1, 2, 3, 4};
  std::vector<double> weights{0.1, 0.2, 0.3, 0.4};

  inlay::random::weight_faster_alias<int> sampler(
      values.begin(), values.end(),
      weights.begin(), weights.end()
  );

  for (int i = 0; i < 10; ++i) {
    std::cout << sampler() << " ";
  }
}
```

## æ€§èƒ½æ¯”è¾ƒ Benchmark

| æ–¹æ³•                  | åˆå§‹åŒ–å¤æ‚åº¦ | é‡‡æ ·å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯è¯´æ˜ |
|-----------------------|---------------|-------------|----------------|
| `Alias`               | O(n)          | O(1)        | é«˜é¢‘é‡‡æ ·ã€æµ®ç‚¹æƒé‡ |
| `Expansion`           | O(n Ã— w)      | O(1)        | å°æƒé‡é›†åˆã€æœ€å¿«é‡‡æ · |
| `Binary`              | O(n)          | O(log n)    | é€šç”¨ã€æ•´æ•°æƒé‡ä¼˜å…ˆ |

## ç¼–è¯‘è¦æ±‚

- C++20 åŠä»¥ä¸Šï¼ˆä»…å°‘é‡è¯­æ³•ï¼‰
- æ— ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ˆä»… STLï¼‰

## TODO

- [ ] æ·»åŠ æ›´å¤šé‡‡æ ·ç­–ç•¥æ”¯æŒ
- [ ] æ”¯æŒåˆ†å¸ƒç­–ç•¥æ’ä»¶å¼æ‰©å±•
